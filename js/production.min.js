function csvJSON(a){for(var b=a.split("\n"),c=[],d=b[0].split(","),e=1;e<b.length;e++){for(var f={},g=b[e].split(","),h=0;h<d.length;h++)f[d[h]]=g[h];c.push(f)}return c}var SearchApp=angular.module("SearchApp",[]);SearchApp.controller("ctrl2",["$scope",function(a){a.processFiles=function(b){var c=b.files[0],d=new FileReader;d.onload=function(b){a.$apply(function(){a.output=b.target.result,jsonner=csvJSON(b.target.result),console.log(jsonner),a.names=jsonner})},d.readAsText(c)}}]);